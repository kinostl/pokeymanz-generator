{"version":3,"sources":["webpack:///./routes/home/index.js","webpack:///./components/MovesList/style.css","webpack:///./components/MovesList/index.js","webpack:///./components/Loading/style.css","webpack:///./components/Loading/index.js","webpack:///./components/PokedexArea/style.css","webpack:///./components/PokedexArea/index.js","webpack:///./components/PokemonSearch/style.css","webpack:///./components/PokemonSearch/index.js","webpack:///./components/CopyButton/index.js","webpack:///./components/VersionSelector/index.js","webpack:///./components/AbilityList/index.js"],"names":["Home","useContext","AppState","loading","stores","consent","useSignal","copyArea","useRef","useEffect","value","getItem","ConsentButton","onClick","setItem","loadStores","class","href","style","ClipboardItem","copyRef","id","ref","MovesList","currentPokemon","version","move_list","generate_move_row","move_id","move","type","category","type_style","color","category_style","name","effect","generate_moves_section","moves","Promise","all","map","generate_move_list","move_section","req","version_moves","pokemon_move","Object","entries","method_id","method","move_learn_method","description","Loading","loadingStates","LoadingBall","src","rotate","pokeball","join","_loadingStates","state","filter","PokedexArea","updateVersion","pokemon_entry","versions","version_group","red_flavor_text","blue_flavor_text","type1","type2","type1style","type2style","feet","andInches","meters","lb","kg","image","prevImage","details","pokemon","_image","sprite","_type1","types","_type2","pokemon_name","height","weight","window","URL","revokeObjectURL","createObjectURL","rowSpan","colSpan","PokemonSearch","pokemonSearchError","currentPokemonInput","listOfPokemonNames","listOfPokemonIds","nameIdMap","names","ids","_nameIdMap","iterate","order","toLowerCase","onSubmit","e","preventDefault","includes","search","onSubmitCapture","list","onInput","target","trim","CopyButton","copied","blobInput","Blob","current","innerHTML","navigator","clipboard","write","VersionSelector","versionList","_versionReqs","pokemon_version","sortedVersionList","sort","a","b","onChange","AbilityList","ability_list","get_ability_row","ability_id","ability","get_ability_list","abilities"],"mappings":"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","file":"route-home.chunk.3ffd0.js","sourcesContent":["import { h } from 'preact'\nimport { useContext, useEffect, useRef } from 'preact/hooks'\nimport AppState from '../../appState'\nimport style from './style.css'\n// Code-splitting is automated for `routes` directory\n// We'll remember that when we add a new Header and more Search Bys\n\nimport PokemonSearch from '../../components/PokemonSearch'\nimport AbilityList from '../../components/AbilityList'\nimport MovesList from '../../components/MovesList'\nimport PokedexArea from '../../components/PokedexArea'\nimport VersionSelector from '../../components/VersionSelector'\nimport Loading from '../../components/Loading'\nimport CopyButton from '../../components/CopyButton'\nimport { useSignal } from '@preact/signals'\nimport loadStores from '../../lib/loadStores'\n\nconst Home = () => {\n  const { loading, stores } = useContext(AppState)\n  const consent = useSignal(false)\n  const copyArea = useRef(null)\n\n  useEffect(async () => {\n    consent.value = await stores.value.consent.getItem('consent')\n  }, [stores.value])\n\n  const ConsentButton = () => {\n    const onClick = async () => {\n      consent.value = true\n      stores.value.consent.setItem('consent', true)\n      stores.value = await loadStores(loading)\n    }\n    return (\n      <div>\n        <p>\n          Look like its your first time here! You need to download about 13 MB\n          of data to use this website.\n        </p>\n        <details>\n          <summary>Click here to see the List of Files</summary>\n          <ul>\n            <li>181K ability</li>\n            <li>157 category</li>\n            <li>955K move</li>\n            <li>1.6K move_learn_method</li>\n            <li>1.8M pokemon_entry</li>\n            <li>232K pokemon</li>\n            <li>6.4M pokemon_move</li>\n            <li>42K pokemon_name</li>\n            <li>191K pokemon_version</li>\n            <li>939 type</li>\n            <li>2.2K version_group</li>\n            <li>1.4K version</li>\n            <li>1.4M sprites</li>\n          </ul>\n        </details>\n        <button onClick={onClick}>Click here to download 13 MB of data</button>\n      </div>\n    )\n  }\n\n  const MainArea = () => {\n    if (!consent.value) {\n      return <ConsentButton />\n    }\n    if (loading.value) {\n      return <Loading />\n    }\n    if (stores.value) {\n      return (\n        <>\n          <PokemonSearch style='width:100%;' />\n          <VersionSelector />\n          {typeof ClipboardItem !== 'undefined' ? (\n            <CopyButton copyRef={copyArea} />\n          ) : (\n            ''\n          )}\n          <div id='copySection' ref={copyArea}>\n            <PokedexArea />\n            <AbilityList />\n            <MovesList />\n          </div>\n        </>\n      )\n    }\n  }\n\n  return (\n    <div class='home'>\n      <h1>Welcome to Fake Pokeyman Helper</h1>\n      <p>\n        Type in a name, hit submit, and get a table of moves that you can copy\n        into a Google Doc to get the format everyone likes.\n      </p>\n      <p>\n        Feel free to make feature requests on the{' '}\n        <a href='https://github.com/kinostl/pokeymanz-generator/issues'>\n          issues page\n        </a>{' '}\n        or Direct Message ZoneBooth (Trick Room) on the Pokeymanz server.\n      </p>\n      <p>Note - You need to copy and resize images yourself.</p>\n      {stores.value ? <MainArea /> : ''}\n    </div>\n  )\n}\n\nexport default Home\n","// extracted by mini-css-extract-plugin\nexport default {\"moves_area\":\"moves_area__eGfUL\"};","import { useSignal } from '@preact/signals'\nimport { h } from 'preact'\nimport { useContext, useEffect } from 'preact/hooks'\nimport AppState from '../../appState'\nimport style from './style.css'\n\nconst MovesList = () => {\n  const { stores, currentPokemon } = useContext(AppState)\n  if (!currentPokemon.value.id || !currentPokemon.value.version) return ''\n\n  const move_list = useSignal([])\n\n  const generate_move_row = async (move_id, version) => {\n    const move = await stores.value.move.getItem(move_id)\n    const type = await stores.value.type.getItem(move.type)\n    const category = await stores.value.category.getItem(move.category)\n    const type_style = `background-color:${type.color};color:rgba(0,0,0,0.5)`\n    const category_style = `background-color:${category.color};color:rgba(0,0,0,0.5)`\n\n    return (\n      <tr>\n        <td>{move.name}</td>\n        <td>{move.effect[version]}</td>\n        <td style={type_style}>{type.name}</td>\n        <td style={category_style}>{category.name}</td>\n      </tr>\n    )\n  }\n  const generate_moves_section = async moves => {\n    const version = currentPokemon.value.version\n    return Promise.all(moves.map(move => generate_move_row(move, version)))\n  }\n\n  const generate_move_list = async moves => {\n    const move_section = await generate_moves_section(moves)\n    return (\n      <table>\n        <tr>\n          <th>Name</th>\n          <th>Description</th>\n          <th>Category</th>\n          <th>Type</th>\n        </tr>\n        {move_section}\n      </table>\n    )\n  }\n  const generate_moves_area = req => {\n    return Promise.all(\n      Object.entries(req).map(async ([method_id, moves]) => {\n        const method = await stores.value.move_learn_method.getItem(method_id)\n        const move_list = await generate_move_list(moves)\n        return (\n          <section id={method.id}>\n            <header>\n              <h2>{method.name}</h2>\n              <p class='tagline'>{method.description}</p>\n            </header>\n            {move_list}\n          </section>\n        )\n      })\n    )\n  }\n\n  useEffect(async () => {\n    const id = currentPokemon.value.id\n    const version = currentPokemon.value.version\n    const { moves } = await stores.value.pokemon_move.getItem(id)\n    const version_moves = moves[version]\n    move_list.value = await generate_moves_area(version_moves)\n  }, [currentPokemon.value.id, currentPokemon.value.version])\n\n  return <div class={style.moves_area}>{move_list.value}</div>\n}\n\nexport default MovesList\n","// extracted by mini-css-extract-plugin\nexport default {\"rotate\":\"rotate__Jkq5d\",\"rotation\":\"rotation__4Zr8b\",\"pokeball\":\"pokeball__1HbTN\"};","import { h } from 'preact'\nimport { useEffect, useContext } from 'preact/hooks'\nimport { useSignal } from '@preact/signals'\nimport style from './style.css'\nimport AppState from '../../appState'\n\nconst Loading = () => {\n  const { loading } = useContext(AppState)\n  const loadingStates = useSignal([])\n  const LoadingBall = () => (\n    <img\n      src='./assets/pokeball.svg'\n      class={[style.rotate, style.pokeball].join(' ')}\n    />\n  )\n  useEffect(() => {\n    const _loadingStates = Object.entries(loading.value)\n    loadingStates.value = _loadingStates\n      .map(([store, state]) => {\n        if (state) {\n          return (\n            <p>\n              <LoadingBall />\n              {state}\n            </p>\n          )\n        }\n        return 0\n      })\n      .filter(state => state != 0)\n  }, [loading.value])\n  return (\n    <div>\n      <p>Downloading a lot of data.</p>\n      <p>{loadingStates.value}</p>\n    </div>\n  )\n}\n\nexport default Loading\n","// extracted by mini-css-extract-plugin\nexport default {\"pokeSprite\":\"pokeSprite__H0Us5\"};","import convert from 'convert'\nimport { h } from 'preact'\nimport style from './style.css'\n\nimport { useContext, useEffect } from 'preact/hooks'\nimport { useSignal } from '@preact/signals'\nimport AppState from '../../appState'\n\nconst PokedexArea = () => {\n  const { stores, currentPokemon } = useContext(AppState)\n  if (!currentPokemon.value.id || !currentPokemon.value.version) return ''\n  //All these signals are because of how optimizing preact works.\n\n  const name = useSignal('')\n  const category = useSignal('')\n  const type1 = useSignal('')\n  const type2 = useSignal('')\n  const type1style = useSignal('')\n  const type2style = useSignal('')\n  const feet = useSignal('')\n  const andInches = useSignal('')\n  const meters = useSignal('')\n  const lb = useSignal('')\n  const kg = useSignal('')\n  const red_flavor_text = useSignal('')\n  const blue_flavor_text = useSignal('')\n  const image = useSignal('')\n  const prevImage = useSignal('')\n\n  async function updateVersion () {\n    const id = currentPokemon.value.id\n    const version = currentPokemon.value.version\n    const { entries } = await stores.value.pokemon_entry.getItem(id)\n    const { versions } = await stores.value.version_group.getItem(version)\n    red_flavor_text.value = entries[versions[0]] || ''\n    blue_flavor_text.value = entries[versions[1]] || ''\n  }\n\n  const DesktopTable = () => (\n    <table style='width:100%;'>\n      <tr>\n        <td rowSpan={7} style='min-width: 288px;'>\n          <img src={image.value} class={style.pokeSprite} />\n        </td>\n\n        <td colSpan={3}>{name}</td>\n      </tr>\n      <tr>\n        <td colSpan={3}>{category}</td>\n      </tr>\n      <tr>\n        <td>Types</td>\n        <td style={type1style}>{type1}</td>\n        <td style={type2style}>{type2}</td>\n      </tr>\n      <tr>\n        <td>Height</td>\n        <td colSpan={2}>\n          {feet}' {andInches}\" ({meters} m)\n        </td>\n      </tr>\n      <tr>\n        <td>Weight</td>\n        <td colSpan={2}>\n          {lb} lb ({kg} kg)\n        </td>\n      </tr>\n      <tr>\n        <td colSpan={3}>{red_flavor_text}</td>\n      </tr>\n      <tr>\n        <td colSpan={3}>{blue_flavor_text}</td>\n      </tr>\n    </table>\n  )\n\n  useEffect(async () => {\n    const id = currentPokemon.value.id\n    const { details } = await stores.value.pokemon.getItem(id)\n    const _image = await stores.value.sprite.getItem(id)\n    const _type1 = details.types[0]\n      ? await stores.value.type.getItem(details.types[0])\n      : { name: '', color: 'transparent' }\n    const _type2 = details.types[1]\n      ? await stores.value.type.getItem(details.types[1])\n      : { name: '', color: 'transparent' }\n    name.value = await stores.value.pokemon_name.getItem(id)\n    name.value = name.value.name\n    category.value = details.category\n    type1.value = _type1.name\n    type2.value = _type2.name\n    type1style.value = `background-color:${_type1.color};color:rgba(0,0,0,0.5)`\n    type2style.value = `background-color:${_type2.color};color:rgba(0,0,0,0.5)`\n    feet.value = details.height.feet\n    andInches.value = details.height.andInches\n    meters.value = details.height.meters\n    lb.value = details.weight.lb\n    kg.value = details.weight.kg\n    window.URL.revokeObjectURL(prevImage.value)\n    image.value = window.URL.createObjectURL(_image)\n    prevImage.value = image.value\n    await updateVersion()\n  }, [currentPokemon.value.id])\n\n  useEffect(updateVersion, [currentPokemon.value.version])\n\n  return <DesktopTable />\n}\n\nexport default PokedexArea\n","// extracted by mini-css-extract-plugin\nexport default {};","import { h } from 'preact'\nimport { useEffect, useContext } from 'preact/hooks'\nimport { useSignal } from '@preact/signals'\nimport style from './style.css'\nimport AppState from '../../appState'\n\nconst PokemonSearch = () => {\n  const { stores, currentPokemon } = useContext(AppState)\n\n  const pokemonSearchError = useSignal('')\n  const currentPokemonInput = useSignal('')\n  const listOfPokemonNames = useSignal([])\n  const listOfPokemonIds = useSignal([])\n  const nameIdMap = useSignal({})\n\n  useEffect(async () => {\n    const names = []\n    const ids = []\n    const _nameIdMap = {}\n    await stores.value.pokemon_name.iterate(({ id, name, order }) => {\n      names[order] = <option value={name} />\n      ids[order] = id\n      _nameIdMap[name.toLowerCase()] = id\n    })\n    listOfPokemonNames.value = names\n    listOfPokemonIds.value = ids\n    nameIdMap.value = _nameIdMap\n  }, [stores.value.pokemon_name])\n\n  const onSubmit = async e => {\n    e.preventDefault()\n    pokemonSearchError.value = ''\n    const pokemon = nameIdMap.value[currentPokemonInput.value.toLowerCase()]\n    if (pokemon && listOfPokemonIds.value.includes(pokemon)) {\n      currentPokemon.value = {\n        id: pokemon\n      }\n    } else {\n      pokemonSearchError.value = 'Could not find that pokemon'\n    }\n  }\n\n  return (\n    <div class={style.search}>\n      <form onSubmitCapture={onSubmit}>\n        <input\n          list='pokemon'\n          name='pokemon'\n          value={currentPokemonInput}\n          onInput={e => {\n            currentPokemonInput.value = e.target.value.trim()\n          }}\n        />\n        <input type='submit' value='Search by Pokemon' />\n      </form>\n      <p>{pokemonSearchError}</p>\n      <datalist id='pokemon'>{listOfPokemonNames.value}</datalist>\n    </div>\n  )\n}\n\nexport default PokemonSearch\n","import { h } from 'preact'\nimport { useContext, useEffect } from 'preact/hooks'\nimport { useSignal } from '@preact/signals'\nimport AppState from '../../appState'\n\nconst CopyButton = ({ copyRef }) => {\n  const { stores, currentPokemon } = useContext(AppState)\n  if (!currentPokemon.value.id || !currentPokemon.value.version) return ''\n  const copied = useSignal(0)\n  useEffect(async () => {\n    copied.value = 0\n  }, [currentPokemon.value.id, currentPokemon.value.version])\n\n  const onClick = async () => {\n    const htmlCode = copyRef.current.innerHTML\n    const blobInput = new Blob([htmlCode], { type: 'text/html' })\n    await navigator.clipboard.write([\n      new ClipboardItem({ 'text/html': blobInput })\n    ])\n    copied.value++\n  }\n\n  return (\n    <button style='width:100%' onClick={onClick}>\n      {!copied.value ? 'Click here to copy' : `Copied! ${copied.value}`}\n    </button>\n  )\n}\n\nexport default CopyButton\n","import { h } from 'preact'\nimport { useContext, useEffect } from 'preact/hooks'\nimport { useSignal } from '@preact/signals'\nimport AppState from '../../appState'\n\nconst VersionSelector = () => {\n  const { stores, currentPokemon } = useContext(AppState)\n  const versionList = useSignal([])\n\n  if (!currentPokemon.value.id) return ''\n\n  useEffect(async () => {\n    if (!currentPokemon.value.version) {\n      const { versions } = await stores.value.pokemon_version.getItem(\n        currentPokemon.value.id\n      )\n      const _versionReqs = versions.map(version =>\n        stores.value.version_group.getItem(version)\n      )\n\n      const _versionList = await Promise.all(_versionReqs)\n      const sortedVersionList = _versionList.sort((a, b) => b.order - a.order)\n      versionList.value = sortedVersionList.map(({ id, name }) => (\n        <option value={id}>{name}</option>\n      ))\n      currentPokemon.value = {\n        ...currentPokemon.value,\n        version: sortedVersionList[0].id\n      }\n    }\n  }, [currentPokemon.value.id])\n  const onChange = e => {\n    currentPokemon.value = {\n      ...currentPokemon.value,\n      version: e.target.value\n    }\n  }\n\n  return (\n    <div style='display: flex; flex-direction:column;'>\n      <label>Version</label>\n      <select value={currentPokemon.value.version} onChange={onChange}>\n        {versionList.value}\n      </select>\n    </div>\n  )\n}\n\nexport default VersionSelector\n","import { useSignal } from '@preact/signals'\nimport { h } from 'preact'\nimport { useContext, useEffect } from 'preact/hooks'\nimport AppState from '../../appState'\nconst AbilityList = () => {\n  const { stores, currentPokemon } = useContext(AppState)\n  if (!currentPokemon.value.id || !currentPokemon.value.version) return ''\n  const ability_list = useSignal('')\n\n  const get_ability_row = async ability_id => {\n    const ability = await stores.value.ability.getItem(ability_id)\n    const version = currentPokemon.value.version\n    return (\n      <tr>\n        <td>{ability.name}</td>\n        <td>{ability.effect[version]}</td>\n      </tr>\n    )\n  }\n\n  const get_ability_list = async abilities => {\n    return Promise.all(\n      abilities.map(async ability => await get_ability_row(ability))\n    )\n  }\n\n  useEffect(async () => {\n    const id = currentPokemon.value.id\n    const { abilities } = await stores.value.pokemon.getItem(id)\n    ability_list.value = await get_ability_list(abilities)\n  }, [currentPokemon.value.id, currentPokemon.value.version])\n\n  return (\n    <table>\n      <tr>\n        <th colSpan={2}>Abilities</th>\n      </tr>\n      {ability_list.value}\n    </table>\n  )\n}\nexport default AbilityList\n"],"sourceRoot":""}